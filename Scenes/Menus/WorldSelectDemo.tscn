[gd_scene load_steps=12 format=3 uid="uid://4gg3xf80a2qe"]

[ext_resource type="Script" path="res://Scripts/world_select.gd" id="1_q5kbk"]
[ext_resource type="Script" path="res://Scripts/world_select_tree.gd" id="2_uuris"]
[ext_resource type="LabelSettings" uid="uid://cw355ejs16c6d" path="res://Assets/Fonts/label_settings.tres" id="3_ci1o0"]
[ext_resource type="Script" path="res://Scripts/floating_ui.gd" id="4_bny4r"]
[ext_resource type="PackedScene" uid="uid://bugeuopf4jxs7" path="res://Scenes/Menus/Worlds/basic_world.tscn" id="5_2x5tc"]
[ext_resource type="PackedScene" uid="uid://c5vxwbnikmdly" path="res://Scenes/Menus/Worlds/demo_world.tscn" id="5_hgd0u"]
[ext_resource type="PackedScene" uid="uid://b1uyvpqy0gvyg" path="res://Scenes/Menus/Worlds/world_select_arrow.tscn" id="6_o7i7l"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_4ewax"]
bg_color = Color(0, 0, 0, 0.635294)
corner_radius_top_left = 10
corner_radius_top_right = 10
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10
anti_aliasing = false
anti_aliasing_size = 0.01

[sub_resource type="InputEventJoypadButton" id="InputEventJoypadButton_32e6s"]
pressed = true

[sub_resource type="Shortcut" id="Shortcut_wviyf"]
events = [SubResource("InputEventJoypadButton_32e6s")]

[sub_resource type="GDScript" id="GDScript_s6kp7"]
script/source = "extends LinkButton
@onready var panel: Panel = $\"../..\"

func _on_mouse_entered() -> void:
	panel.create_tween().tween_property(panel, \"scale\", Vector2(1.1, 1.1), 0.7).set_trans(Tween.TRANS_ELASTIC).set_ease(Tween.EASE_OUT)


func _on_mouse_exited() -> void:
	panel.create_tween().tween_property(panel, \"scale\", Vector2(1, 1), 0.7).set_trans(Tween.TRANS_ELASTIC).set_ease(Tween.EASE_OUT)
"

[node name="WorldSelect" type="Node2D"]
z_index = 15
script = ExtResource("1_q5kbk")

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(1.015, 1.015)

[node name="TreeContainer" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -3568.0
offset_top = -256.0
offset_right = -2.0
offset_bottom = 2774.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(2, 2)

[node name="Tree" type="VBoxContainer" parent="TreeContainer" node_paths=PackedStringArray("FirstControl")]
layout_mode = 2
anchor_top = 0.00115512
anchor_right = 1.0
anchor_bottom = 1.00067
offset_bottom = 1.47974
size_flags_horizontal = 4
size_flags_vertical = 4
theme_override_constants/separation = 350
script = ExtResource("2_uuris")
target_group = 6
FirstControl = NodePath("DemoWorldContainer/Demo World")
metadata/_edit_use_anchors_ = true

[node name="DemoWorldContainer" type="Control" parent="TreeContainer/Tree" groups=["WorldGroup"]]
custom_minimum_size = Vector2(256, 256)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
script = ExtResource("4_bny4r")
vertical_intensity = 10.0
horizontal_speed = 0.5
horizontal_intensity = 7

[node name="Title" type="Control" parent="TreeContainer/Tree/DemoWorldContainer"]
z_index = 2
layout_mode = 2
anchors_preset = 0
offset_left = 128.0
offset_top = -350.0
offset_right = 128.0
offset_bottom = -350.0
size_flags_horizontal = 4
size_flags_vertical = 4
script = ExtResource("4_bny4r")
metadata/_edit_use_anchors_ = true

[node name="Title" type="Label" parent="TreeContainer/Tree/DemoWorldContainer/Title"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -599.5
offset_top = 186.5
offset_right = 600.5
offset_bottom = 206.5
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(2.435, 2.435)
pivot_offset = Vector2(600, 8.45068)
theme_override_font_sizes/font_size = 1
text = "CHOOSE A PUZZLE BOX"
label_settings = ExtResource("3_ci1o0")
horizontal_alignment = 1

[node name="Demo World" parent="TreeContainer/Tree/DemoWorldContainer" instance=ExtResource("5_hgd0u")]
layout_mode = 2
anchors_preset = 0
anchor_right = 0.0
anchor_bottom = 0.0
offset_right = 256.0
offset_bottom = 256.0
scale = Vector2(1.3, 1.3)
focus_neighbor_left = NodePath(".")
focus_neighbor_top = NodePath(".")
focus_neighbor_right = NodePath(".")
focus_neighbor_bottom = NodePath("../Arrow")
focus_next = NodePath("../Arrow")
focus_previous = NodePath(".")

[node name="Arrow" parent="TreeContainer/Tree/DemoWorldContainer" node_paths=PackedStringArray("target_focus_node", "required_completed_worlds") instance=ExtResource("6_o7i7l")]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.498047
anchor_top = 1.70703
anchor_right = 0.498047
anchor_bottom = 1.70703
grow_horizontal = 1
grow_vertical = 1
rotation = 1.57079
scale = Vector2(0.657755, 0.657755)
target_focus_node = NodePath("../../BasicWorldContainer/Basic World")
required_completed_worlds = [NodePath("../../BasicWorldContainer/Basic World")]

[node name="BasicWorldContainer" type="Control" parent="TreeContainer/Tree" groups=["WorldGroup"]]
custom_minimum_size = Vector2(256, 256)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
script = ExtResource("4_bny4r")
vertical_intensity = 10.0
horizontal_speed = 0.5
horizontal_intensity = 7

[node name="Basic World" parent="TreeContainer/Tree/BasicWorldContainer" node_paths=PackedStringArray("required_completed_worlds") instance=ExtResource("5_2x5tc")]
modulate = Color(1, 1, 1, 0)
layout_mode = 2
anchors_preset = 0
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
offset_left = 0.0
offset_top = 0.0
offset_right = 256.0
offset_bottom = 256.0
scale = Vector2(1.3, 1.3)
focus_neighbor_left = NodePath(".")
focus_neighbor_top = NodePath("../UpArrow")
focus_neighbor_right = NodePath(".")
focus_previous = NodePath("../UpArrow")
required_completed_worlds = [NodePath(".")]

[node name="UpArrow" parent="TreeContainer/Tree/BasicWorldContainer" instance=ExtResource("6_o7i7l")]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.498047
anchor_top = -0.513672
anchor_right = 0.498047
anchor_bottom = -0.513672
grow_horizontal = 1
grow_vertical = 1
rotation = -1.57079
scale = Vector2(0.657755, 0.657755)
target_world_group = 6
self_world_group = 0

[node name="EndMessage" type="Label" parent="TreeContainer/Tree/BasicWorldContainer"]
layout_mode = 0
offset_left = -382.0
offset_top = -45.0
offset_right = 654.0
offset_bottom = 205.0
pivot_offset = Vector2(1645, 335)
text = "PLAY_STEAM"
label_settings = ExtResource("3_ci1o0")
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="Panel" type="Panel" parent="TreeContainer/Tree/BasicWorldContainer"]
layout_mode = 1
anchors_preset = -1
anchor_left = -0.0546875
anchor_top = 0.933594
anchor_right = 1.05469
anchor_bottom = 0.933594
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(162, 19)
theme_override_styles/panel = SubResource("StyleBoxFlat_4ewax")
metadata/_edit_use_anchors_ = true

[node name="SteamPageLink" type="Label" parent="TreeContainer/Tree/BasicWorldContainer/Panel"]
layout_mode = 0
offset_left = -1237.0
offset_top = -78.5001
offset_right = 1563.0
offset_bottom = 121.5
scale = Vector2(0.877226, 0.877226)
pivot_offset = Vector2(1400, 94.9995)
text = "VISIT_STEAM"
label_settings = ExtResource("3_ci1o0")
horizontal_alignment = 1
vertical_alignment = 1

[node name="LinkButton" type="LinkButton" parent="TreeContainer/Tree/BasicWorldContainer/Panel/SteamPageLink" node_paths=PackedStringArray("shortcut_context")]
layout_mode = 0
offset_left = 1166.0
offset_top = 72.1431
offset_right = 1630.0
offset_bottom = 128.143
focus_neighbor_top = NodePath("../../../UpArrow")
shortcut_context = NodePath("../../../Basic World")
shortcut = SubResource("Shortcut_wviyf")
shortcut_feedback = false
shortcut_in_tooltip = false
uri = "https://store.steampowered.com/app/3249380"
script = SubResource("GDScript_s6kp7")

[connection signal="mouse_entered" from="TreeContainer/Tree/BasicWorldContainer/Panel/SteamPageLink/LinkButton" to="TreeContainer/Tree/BasicWorldContainer/Panel/SteamPageLink/LinkButton" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="TreeContainer/Tree/BasicWorldContainer/Panel/SteamPageLink/LinkButton" to="TreeContainer/Tree/BasicWorldContainer/Panel/SteamPageLink/LinkButton" method="_on_mouse_exited"]
